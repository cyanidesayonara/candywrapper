<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>
        <header>
            <h1>
                <a th:href="@{/products/}">
                    Candy Wrapper
                </a>
            </h1>
        </header>
        <nav>
            <a th:href="@{/accounts/login}">Login</a>
            <a th:href="@{/accounts/signup}">Signup</a>
        </nav>        
        <div th:switch="${products}">
            <h2 th:case="null">No products</h2>
            <div th:case="*">
                <h2>Products</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Description</th>
                            <th colspan="2">Edit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="product : ${products}">
                            <td><a th:text="${product.name}" th:href="@{/products/{id}/(id=${product.id})}"></a></td>
                            <td th:text="${product.description}"></td>
                            <td>
                                <form th:method="get" th:action="@{/products/{id}/(id=${product.id})}">
                                    <input type="submit" value="Edit" />
                                </form>
                            <td>
                                <form th:method="delete" th:action="@{/products/{id}/(id=${product.id})}">
                                    <input type="submit" value="Delete" />
                                </form>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </body>
</html>